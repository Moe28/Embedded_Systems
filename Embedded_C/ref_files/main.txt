
  test.c
 
   Created on 4 May 2023
       Author Boufa
 


#include stdint.h
#include stdint.h
Register addresses

typedef volatile unsigned int vuint32_t;
typedef  unsigned int unint32_t;

#define RCC_BASE    	0X40021000
#define GPIOA_BASE 		0X40010800
#define RCC_APP2ENR 	(volatile unint32_t )(RCC_BASE + 0x18)
#define GPIOA_CRH		(volatile unint32_t )(GPIOA_BASE + 0x04)
#define GPIOA_ODR 		(volatile unint32_t )(GPIOA_BASE + 0x0C)

Bit fields

#define RCC_IOPAEN (12)
#define GPIOA13 	(1UL13)


extern void NMI_handler()
{
	
	
} 


extern void Bus_Fault()
{
	
	
}

typedef union
{
	vuint32_t 	all_fields;
	struct
	{
			vuint32_t		reserved13 ;
			vuint32_t		P_131;

	}Pin;
}R_ODR_t;


volatile R_ODR_t  R_ODR = (volatile R_ODR_t)(GPIOA_BASE + 0x0C);
unsigned char g_variables[3]= {1,2,3};
unsigned char const const_variables[3]= {1,2,3};
unsigned char bss_arr[8];
void main()
{
	 while (1)
	 {
	 RCC_APP2ENR = RCC_IOPAEN;

	 GPIOA_CRH &= 0xFF0FFFFF;
	 GPIOA_CRH = 0x00200000;

	 R_ODR - Pin.P_13=1;
	 for (int i=0;i5000; i++);
	 	 R_ODR - Pin.P_13=0;

	 	 for (int i=0;i5000; i++);
	 };
}
